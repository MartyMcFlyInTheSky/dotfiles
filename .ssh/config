# Include server configurations
Include ~/ssh-config/config

Host calguessr
  HostName 89.116.110.91
  User sbeer 
  Port 22
  IdentityFile ~/.ssh/calguessr

Host gpu
  HostName cache-gpu.t.de.tel.01.meteomatics.com

Host playground
  HostName playground-api.t.de.ntt.01.meteomatics.com

Host cache* prod* fetcher* cache.gpu* playground* ftp05 ftp06 exec "[[ $(ps h o args p $PPID | wc -w) -eq 2 ]]"
    # matches `ssh <server>` but not `ssh <server> <cmd>`
  User root
  RequestTTY force
  RemoteCommand git -C '/tmp/sbeer/dotfiles' pull --rebase || git clone https://github.com/MartyMcFlyInTheSky/dotfiles.git '/tmp/sbeer/dotfiles'; bash --rcfile '/tmp/sbeer/dotfiles/.bashrc' -i
